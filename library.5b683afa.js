var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},e={},a={},r=t.parcelRequired7c6;null==r&&((r=function(t){if(t in e)return e[t].exports;if(t in a){var r=a[t];delete a[t];var n={id:t,exports:{}};return e[t]=n,r.call(n.exports,n,n.exports),n.exports}var o=new Error("Cannot find module '"+t+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(t,e){a[t]=e},t.parcelRequired7c6=r);var n=r("04jNI");r("l05VH"),r("b3pyI");var o=r("h53OD");r("1mAvE"),r("1mAvE");var l=r("krGWQ"),s=r("b5rV1"),i=r("9MILY"),d=r("1mAvE");l.refs.btnLibraryQueue&&l.refs.btnLibraryQueue.addEventListener("click",(function(t){l.refs.btnLibraryQueue.classList.add("library__btn--active"),l.refs.btnLibraryWatched.classList.remove("library__btn--active");let e=(0,s.loadFromLocalStorage)("queueMovies");if(e&&Object.keys(e).length){const t=Object.values(e).map(i.createMarkupWatchedMovies).join("");if(l.refs.libraryGallery){l.refs.libraryGallery.innerHTML=t;document.querySelectorAll(".watch-trailer-btn-gallery").forEach((t=>{(0,d.renderTrailerBtn)(t.dataset.id,t)}))}}else{const t=(0,i.createMarkupWhenLocalStorageEmpty)();l.refs.libraryGallery.innerHTML=t}}));i=r("9MILY"),i=r("9MILY"),s=r("b5rV1"),d=r("1mAvE");var c=r("ie2oG"),u=r("czlJg");let b,f;function p(t){t.target.classList.contains("js-add-watched")?(0,s.checkLocalStorageWatchedMovies)(t.target,f):t.target.classList.contains("js-add-queue")&&(0,s.checkLocalStorageQueueMovies)(t.target,f)}function v({voteAverage:t,voteCount:e,genres:a,title:r,posterPath:n,originalName:o,popularity:l,overview:i,id:d}){const c=(0,s.loadFromLocalStorage)(s.KEY_WATCHED_MOVIES),b=(0,s.loadFromLocalStorage)(s.KEY_QUEUE_MOVIES);let f="ADD TO WATCHED",p="ADD TO QUEUE";c&&c[d]&&(f="REMOVE FROM WATCHED"),b&&b[d]&&(p="REMOVE FROM QUEUE");const v=a.map((t=>t.name));return`\n          <img class="img-modal"    src="${n?u.IMAGE_URL+n:"https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-"}" alt="${r}" data-id=${d} />\n          <div class="container-modal">\n            <b class="title-modal">${r}</b>\n            <table class="table">\n              <tr class="table-separator">\n                <th class="table__text">Vote / Votes</th>\n                <th><span class="vote-average">${t.toFixed(1)}</span> / <span class="vote-count">${e}</span></th>\n              </tr>\n              <tr class="table-separator">\n                <th class="table__text">Popularity</th>\n                <th>${l.toFixed(1)}</th>\n              </tr>\n              <tr class="table-separator">\n                <th class="table__text">Original Title</th>\n                <th>${r||o}</th>\n              </tr>\n              <tr class="table-separator">\n                <th class="table__text">Genre</th>\n                <th>${v}</th>\n              </tr>\n            </table>\n            <b class="title-about__modal">ABOUT</b>\n            <p class="about-text__modal about-scrollbar">${i}\n            </p>\n            <div class="buttons-modal">\n              <button type="button" class="button-watched__modal js-add-watched">\n                  ${f}\n              </button>\n              <button type="button" class="button-queue__modal js-add-queue">${p}</button>\n              </div>\n               <button type="button" class="watch-trailer-btn is-hidden " data-id=${d} >Watch the trailer</button>\n          </div>\n  \n            \n          `}(l=r("krGWQ")).refs.libraryGallery.addEventListener("click",(function(t){b=Number(t.target.dataset.id);if(!t.target.closest(".frame"))return;let e="";const a=(0,s.loadFromLocalStorage)(s.KEY_WATCHED_MOVIES),r=(0,s.loadFromLocalStorage)(s.KEY_QUEUE_MOVIES);a[b]?(f=a[b],e=v(a[b])):r[b]&&(f=r[b],e=v(r[b]));l.refs.modal.innerHTML=e,l.refs.body.classList.add("no-scroll");const n=document.querySelector(".watch-trailer-btn");(0,d.renderTrailerBtn)(b,n),window.addEventListener("keydown",c.onEscKeyPress),l.refs.modalBackdrop.classList.add("show-modal"),l.refs.modalBackdrop.addEventListener("click",c.onBackdropClick),l.refs.closeModalBtn.addEventListener("click",c.offCloseModal),l.refs.modalBackdrop.classList.contains("show-modal")&&l.refs.modalContainer.addEventListener("click",p)})),(0,n.spinnerPlay)(),window.addEventListener("load",(function(t){(0,n.spinnerStop)()})),window.addEventListener("scroll",o.scrollFunction),window.addEventListener("load",i.loadWatchedMoviesFromLocalStorage);
//# sourceMappingURL=library.5b683afa.js.map
