var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},n={},a=e.parcelRequired7c6;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in n){var a=n[e];delete n[e];var i={id:e,exports:{}};return t[e]=i,a.call(i.exports,i,i.exports),i.exports}var r=new Error("Cannot find module '"+e+"'");throw r.code="MODULE_NOT_FOUND",r}).register=function(e,t){n[e]=t},e.parcelRequired7c6=a);var i=a("04jNI"),r=a("2shzp"),o=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}],l=a("krGWQ"),s=a("czlJg");a("czlJg");function d(e,t){return t.map((t=>e.find((e=>e.id===t)).name)).reduce(((e,t,n,a)=>a.length>2?`${a[0]}, ${a[1]}, Other`:a.join(", ")),"")}r=a("2shzp"),a("czlJg"),s=a("czlJg");var c=a("1mAvE");async function f(e,t){const{data:n}=await r.default.get(`/search/movie?api_key=${s.KEY_API}&query=${e}&page=${t}&language=en-US`);return p(n.page,n.total_pages),n.results}function g(e,t){const n=e.map((e=>{const{id:t,poster_path:n,original_title:a,release_date:i,genre_ids:r,vote_average:l}=e,c=d(o,r);return`<li class="frame" data-id="${t}">\n         <div class="frame__wrap">\n            <p class="frame__raiting">${l.toFixed(1)?l.toFixed(1):"---"}</p>\n           <button type="button" class="watch-trailer-btn-gallery is-hidden" data-id=${t} >Watch the trailer</button>\n          <img\n            data-id="${t}"\n            src="${n?s.IMAGE_URL+n:"https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-"}"\n            alt="${a||"Title coming soon"}"\n            class="frame__poster"\n            loading="lazy"\n          />\n            </div>\n          <div class="frame__info " data-id=${t}>\n            <p class="frame__title" data-id=${t}>${a||"Title coming soon"}</p>\n            <p class="frame__genres" data-id=${t}>${c||"---"}</p>\n            <p class="frame__year" data-id=${t}>${new Date(i).getFullYear()?new Date(i).getFullYear():"---"}</p>\n         \n          </div>\n          </li>`})).join("");t.insertAdjacentHTML("beforeend",n);document.querySelectorAll(".watch-trailer-btn-gallery").forEach((e=>{(0,c.renderTrailerBtn)(e.dataset.id,e)}))}r.default.defaults.baseURL="https://api.themoviedb.org/3";l=a("krGWQ"),c=a("1mAvE");const m=document.querySelector(".pagination-container");m.addEventListener("click",(function(e){const t=e.target.textContent,n=l.refs.formSearch.searchQuery.value;if("LI"!==e.target.nodeName)return;if("Next >"===e.target.textContent)return n?void f(n,u+=1).then((e=>{l.refs.galleryMovies.innerHTML=e.map(h).join(""),(0,c.renderBtn)()})):void v(u+=1).then((e=>{l.refs.galleryMovies.innerHTML=e.map(h).join(""),(0,c.renderBtn)()}));if("< Previous"===e.target.textContent)return n?void f(n,u-=1).then((e=>{l.refs.galleryMovies.innerHTML=e.map(h).join(""),(0,c.renderBtn)()})):void v(u-=1).then((e=>{l.refs.galleryMovies.innerHTML=e.map(h).join(""),(0,c.renderBtn)()}));if("..."===e.target.textContent)return;if(n)return void f(n,t).then((e=>{l.refs.galleryMovies.innerHTML=e.map(h).join(""),(0,c.renderBtn)()}));v(t).then((e=>{l.refs.galleryMovies.innerHTML=e.map(h).join(""),(0,c.renderBtn)()}))}));let u=0;function p(e,t){let n="";u=e,e>1&&(n+='<li class="pagination-button-arrow-left">< Previous</li>'),e>1&&(n+='<li class="pagination-button">1</li>'),e>4&&(n+='<li class="pagination-button">...</li>'),e>3&&(n+=`<li class="pagination-button">${e-2}</li>`),e>2&&(n+=`<li class="pagination-button">${e-1}</li>`),n+=`<li class="pagination-button"><b class = "pagination--current">${e}</b></li>`,t-1>e&&(n+=`<li class="pagination-button">${e+1}</li>`),t-2>e&&(n+=`<li class="pagination-button">${e+2}</li>`),t-3>e&&(n+='<li class="dots">...</li>'),t>e&&(n+=`<li class="pagination-button">${t}</li>`,n+='<li class="pagination-button-arrow">Next ></li>'),m.innerHTML=n}c=a("1mAvE");async function v(e){try{const{data:t}=await r.default.get(`/trending/movie/day?api_key=${s.KEY_API}&page=${e}`);return p(t.page,t.total_pages),t.results}catch(e){console.log("Something wrong with API",e.message)}}function h({id:e,title:t,poster_path:n,genre_ids:a,release_date:i,vote_average:r}){const l=d(o,a);return`<li class="frame" data-id="${e}">\n         <div class="frame__wrap">\n            <p class="frame__raiting">${r.toFixed(1)?r.toFixed(1):"---"}</p>\n           <button type="button" class="watch-trailer-btn-gallery is-hidden" data-id=${e} >Watch the trailer</button>\n          <img\n            data-id="${e}"\n            src="${n?s.IMAGE_URL+n:"https://ik.imagekit.io/tc8jxffbcvf/default-movie-portrait_EmJUj9Tda5wa.jpg?tr=fo-auto,di-"}"\n            alt="${t||"Title coming soon"}"\n            class="frame__poster"\n            loading="lazy"\n          />\n            </div>\n          <div class="frame__info" data-id=${e}>\n            <p class="frame__title" data-id=${e}>${t||"Title coming soon"}</p>\n            <p class="frame__genres" data-id=${e}>${l||"---"}</p>\n            <p class="frame__year" data-id=${e}>${new Date(i).getFullYear()?new Date(i).getFullYear():"---"}</p>\n         \n          </div>\n          </li>`}r.default.defaults.baseURL="https://api.themoviedb.org/3",async function(){try{const e=[...await v(1)].map(h).join("");l.refs.galleryMovies.insertAdjacentHTML("beforeend",e),(0,c.renderBtn)()}catch(e){console.log("Something wrong with API",e.message)}}(),a("ie2oG");l=a("krGWQ");i=a("04jNI");function y(){l.refs.notification.textContent="Search result not successful. Enter the correct movie name and try again."}l.refs.formSearch&&l.refs.formSearch.addEventListener("submit",(async function(e){e.preventDefault(),(0,i.spinnerPlay)(),l.refs.notification.textContent="";const t=e.target.elements.searchQuery.value.trim().toLowerCase();if(t)try{const e=await f(t,1);e.length?(l.refs.galleryMovies.innerHTML="",g(e,l.refs.galleryMovies)):y()}catch(e){y()}else y();(0,i.spinnerStop)()})),a("l05VH"),a("b3pyI");var _=a("h53OD");l=a("krGWQ"),c=a("1mAvE");(0,i.spinnerPlay)(),window.addEventListener("load",(function(e){(0,i.spinnerStop)()})),window.addEventListener("scroll",_.scrollFunction),l.refs.galleryMovies.addEventListener("click",c.onCli—ÅkBtnWatchGallery);
//# sourceMappingURL=index.18a45224.js.map
